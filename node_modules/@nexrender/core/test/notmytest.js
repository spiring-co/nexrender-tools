const { init, render } = require('../src')

const job = {
   "template":{
      "src":"file:///D:/Downloads/template.aep",
      "composition":"main",
      "frameStart":1,
      "frameEnd":2,
      // "outputModule":"Draft",
      // "settingsTemplate":"Draft"
   },
   "actions":{
      "postrender":[
         {
            "module":"@nexrender/action-upload",
            "params":{
               "host":"clf-studio.de",
               "port":21,
               "user":"render",
               "password":"E#c78bw1"
            }
         }
      ]
   }
}

const settings = {
    logger: console,
    skipCleanup: true,
    debug: true,
}

// console.log(JSON.stringify(job))

render(job, init(settings)).then(job => {
    console.log('finished rendering', job)
}).catch(err => {
    console.error(err)
})
